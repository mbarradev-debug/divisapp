# Version 1.1.0

**Release Date:** January 2025

## Summary

Version 1.1.0 adds significant user experience improvements including a favorites system, historical charts with trend analysis, and smart conversion features. This release focuses on making data exploration more intuitive and the conversion flow more efficient.

## Features Available

### Home Page - Favorites System

- **Favorites section**: Favorite indicators appear at the top of the home page
- **Reorder controls**: Move favorites up or down to customize order
- **Visual polish**: Distinct styling for favorite cards with heart icons
- **Empty state**: Helpful message when no favorites are saved
- **Local persistence**: Favorites stored in browser localStorage

### Indicator Detail Page - Charts and Analytics

- **Historical chart**: Interactive line chart showing value trends over time
- **Range selector**: Toggle between 7, 30, or 90 day views
- **Trend indicator**: Visual up/down arrows showing direction of change
- **Period delta**: Numeric change over the selected period
- **Min/max values**: Range summary for the selected period
- **Contextual tooltips**: Hover explanations for analytics values
- **Recent values table**: List of recent values below the chart

### Currency Conversion - Smart Defaults

- **Contextual entry**: Pre-fill conversion from URL parameters (e.g., `/convert?from=dolar`)
- **Atomic swap**: Button to instantly swap from/to indicators
- **Real-time calculation**: Results update as you type
- **Persistent state**: Last conversion saved across page reloads
- **Smart defaults**: Intelligent opposite currency selection

### UI Components

- **Reusable primitives**: Button, Input, Select, Card components in `/components/ui`
- **Tooltip component**: Accessible hover/focus tooltips
- **Favorite button**: Heart icon toggle
- **Line chart**: Recharts wrapper for consistent charting

### Performance

- **Memoized calculations**: useMemo for chart data, min/max, and delta values
- **Optimized re-renders**: Prevents unnecessary recalculation on unrelated prop changes
- **Local-first state**: useSyncExternalStore for SSR-safe localStorage access

## What Is Not Included

The following features are intentionally not part of this release:

- **User accounts**: No login or cross-device sync
- **Backend persistence**: Favorites are browser-local only
- **Push notifications**: No alerts for value changes
- **Multiple languages**: Interface remains in Spanish
- **Offline support**: Requires internet for data
- **Export functionality**: Cannot export data or charts
- **Comparison mode**: Cannot compare multiple indicators side-by-side

## Stability Notes

This is a stable release suitable for production use:

- All features have been tested across major browsers
- localStorage operations have fallbacks for private browsing
- Chart rendering is optimized for mobile devices
- All API calls include proper error handling
- Form inputs are validated before submission

### Known Limitations

1. **Chart performance**: Very large datasets (90+ days) may render slower on older devices

2. **localStorage limits**: Browsers limit localStorage to about 5MB; this is sufficient for favorites but could be a concern if extended significantly

3. **Recharts bundle size**: The charting library adds to the JavaScript bundle; this is acceptable for the functionality provided

4. **Tooltip accessibility**: Touch devices show tooltips on tap, which may be less discoverable

## Changelog

### Added

- Favorites system with local storage persistence (SCRUM-41)
- Favorites section on home page (SCRUM-42)
- Reorder controls for favorite indicators (SCRUM-43)
- Empty state for favorites section (SCRUM-44)
- Visual polish for favorites section (SCRUM-45)
- Historical line chart on indicator detail page
- Range selector with 7, 30, 90 day options (SCRUM-47)
- Trend direction and delta display (SCRUM-48)
- Memoized derived values for performance (SCRUM-50)
- Contextual tooltips for analytics values (SCRUM-51)
- Smart defaults and contextual entry for conversion (SCRUM-53)
- Atomic swap button for conversion indicators (SCRUM-54)
- Recharts library for charting (version 3.6.0)
- New UI component library in `/components/ui`
- `useFavorites` hook in `lib/storage.ts`
- `usePersistedConversion` hook for conversion state
- Format utilities in `lib/format.ts`

### Changed

- Home page now splits indicators into favorites and all sections
- Indicator detail page layout expanded for chart and analytics
- Conversion form now auto-calculates on input change
- Component organization restructured by feature domain

### Technical Details

- **Next.js**: 16.1.1
- **React**: 19.2.3
- **TypeScript**: 5.x
- **Tailwind CSS**: 4.x
- **Recharts**: 3.6.0
- **Vitest**: 4.0.17
- **Node.js**: 20.x recommended

## Upgrade Notes

### From v1.0.0

This is a backwards-compatible release. No breaking changes were introduced.

**New dependencies**: Recharts (^3.6.0) was added for charting. Run `npm install` after updating.

**New files**: Several new component files were added. No action required.

**localStorage usage**: The app now uses localStorage for favorites (`divisapp_favorites`) and conversion state (`divisapp_last_conversion`). These keys will be created automatically on first use.

## Related Commits

```
147f879 feat(SCRUM-54): add atomic swap for conversion indicators
c1a4f55 feat(SCRUM-53): add smart defaults and contextual entry to conversion flow
aa41652 feat(SCRUM-51): add contextual tooltips to analytics values and chart
7a23935 perf(SCRUM-50): memoize derived values in indicator history
d056111 feat(SCRUM-48): add trend direction and delta to history range
940cf2e feat(SCRUM-47): add 90-day option to history range selector
3780d4d feat(SCRUM-45): apply visual polish to favorites section
f65b86a feat(SCRUM-44): add empty state for favorites section
9aa9ade feat(SCRUM-43): add reorder controls for favorite indicators
1ae5d5c feat(SCRUM-42): add favorites section to home screen
18c8495 feat(SCRUM-41): add local-first favorite indicators
```
